<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STYLE GLAMOUR BEATS - Thời Trang Cao Cấp</title>
    <link rel="stylesheet" href="Untitled-1.css?v=3">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <script>
        // Redirect to auth page if not logged in (run immediately to avoid flashing content)
        try{
            const logged = JSON.parse(localStorage.getItem('sgb_logged_in')||'null');
            if(!logged){ window.location.replace('auth.html'); }
        }catch(e){ window.location.replace('auth.html'); }
    </script>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <div class="logo">
                    <h1>STYLE<span>GLAMOUR BEATS</span></h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="SGBweb.html">Trang chủ</a></li>
                    <li><a href="products.html">Sản phẩm</a></li>
                    <li><a href="cart.html">Giỏ hàng</a></li>
                    <li><a href="about.html">Về chúng tôi</a></li>
                    <li><a href="contact.html">Liên hệ</a></li>
                    <li><a href="checkout.html">Thanh toán</a></li>
                    <li><a href="style-advisor.html">Tư vấn phong cách (AI)</a></li>
                </ul>
                <div class="nav-icons">
                    <button class="icon-btn search-btn"><i class="fas fa-search"></i></button>
                    <!-- Điều hướng tới trang giỏ hàng để khách xem lại trước khi thanh toán -->
                    <a class="icon-btn cart-btn" href="cart.html" onclick="return onCartIconClick(event)" aria-label="Giỏ hàng">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </a>
                    <button id="userNameBtn" class="icon-btn user-btn" style="display:none" title=""><i class="fas fa-user"></i><span id="userName" style="margin-left:6px"></span></button>
                    <button id="logoutBtn" class="icon-btn" style="display:none;margin-left:8px">Đăng xuất</button>
                </div>
                <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h2 class="hero-subtitle">BỘ SƯU TẬP MỚI 2025</h2>
            <h1 class="hero-title">Phong Cách<br>Đẳng Cấp</h1>
            <p class="hero-description">Khám phá những xu hướng thời trang mới nhất</p>
            <a class="btn-primary" href="products.html" aria-label="Mua ngay - xem sản phẩm">Mua Ngay</a>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories">
        <div class="container">
            <h2 class="section-title">Danh Mục Sản Phẩm</h2>
            <div class="category-grid">
                <div class="category-card">
                    <img src="https://images.unsplash.com/photo-1490481651871-ab68de25d43d" alt="Nữ">
                    <div class="category-overlay">
                        <h3>Thời Trang Nữ</h3>
                        <button class="btn-outline">Xem Thêm</button>
                    </div>
                </div>
                <div class="category-card">
                    <img src="https://images.unsplash.com/photo-1617127365659-c47fa864d8bc" alt="Nam">
                    <div class="category-overlay">
                        <h3>Thời Trang Nam</h3>
                        <button class="btn-outline">Xem Thêm</button>
                    </div>
                </div>
                <div class="category-card">
                    <img src="https://images.unsplash.com/photo-1460353581641-37baddab0fa2" alt="Phụ kiện">
                    <div class="category-overlay">
                        <h3>Phụ Kiện</h3>
                        <button class="btn-outline">Xem Thêm</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products -->
    <section class="products" id="products">
        <div class="container">
            <h2 class="section-title">Sản Phẩm Nổi Bật</h2>
            <div class="filter-tabs">
                <button class="filter-btn active" data-filter="all">Tất cả</button>
                <button class="filter-btn" data-filter="women">Nữ</button>
                <button class="filter-btn" data-filter="men">Nam</button>
                <button class="filter-btn" data-filter="accessories">Phụ kiện</button>
            </div>
            <div class="product-grid" id="productGrid">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- About -->
    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2 class="section-title">Về STYLE GLAMOUR BEATS</h2>
                    <p>Chúng tôi mang đến những sản phẩm thời trang cao cấp, độc đáo và phong cách. Với hơn 10 năm kinh nghiệm, STYLE GLAMOUR BEATS cam kết chất lượng và dịch vụ tốt nhất.</p>
                    <div class="about-features">
                        <div class="feature">
                            <i class="fas fa-shipping-fast"></i>
                            <h4>Giao hàng nhanh</h4>
                        </div>
                        <div class="feature">
                            <i class="fas fa-undo"></i>
                            <h4>Đổi trả dễ dàng</h4>
                        </div>
                        <div class="feature">
                            <i class="fas fa-shield-alt"></i>
                            <h4>Bảo hành chính hãng</h4>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1441984904996-e0b6ba687e04" alt="About">
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>STYLE GLAMOUR BEATS</h3>
                    <p>Thời trang cao cấp dành cho bạn</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Liên kết</h4>
                    <ul>
                        <li><a href="products.html">Sản phẩm</a></li>
                        <li><a href="about.html">Về chúng tôi</a></li>
                        <li><a href="#">Chính sách</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Liên hệ</h4>
                    <ul>
                        <li><i class="fas fa-phone"></i> 0869801363</li>
                        <li><i class="fas fa-envelope"></i> info@styleglamourbeats.vn</li>
                        <li><i class="fas fa-map-marker-alt"></i> Cần Thơ, Việt Nam</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 STYLE GLAMOUR BEATS. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Giỏ Hàng</h2>
            <div id="cartItems"></div>
                <div class="cart-total">
                <h3>Tổng: <span id="totalPrice">0đ</span></h3>
                <!-- Inline fallback: ensure click always saves cart and navigates if JS listener not attached -->
                <button id="cartCheckoutBtn" type="button" class="btn-primary" onclick="try{ localStorage.setItem('sgb_cart', JSON.stringify(window.cart||[])); }catch(e){}; window.location.href='checkout.html';">Thanh Toán</button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content checkout-content">
            <span class="close checkout-close">&times;</span>
            <h2><i class="fas fa-credit-card"></i> Thanh Toán</h2>
            
            <div class="checkout-container">
                <!-- Left Side - Form -->
                <div class="checkout-form">
                    <h3>Thông tin giao hàng</h3>
                    <form id="checkoutForm">
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> Họ và tên *</label>
                            <input type="text" id="fullName" required placeholder="Nguyễn Văn A">
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-phone"></i> Số điện thoại *</label>
                            <input type="tel" id="phone" required placeholder="0123456789">
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-envelope"></i> Email</label>
                            <input type="email" id="email" placeholder="example@email.com">
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-map-marker-alt"></i> Địa chỉ *</label>
                            <textarea id="address" required rows="3" placeholder="Số nhà, tên đường, phường/xã"></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label><i class="fas fa-city"></i> Tỉnh/Thành phố *</label>
                                <select id="city" required>
                                    <option value="">Chọn Tỉnh/TP</option>
                                    <option value="hanoi">Hà Nội</option>
                                    <option value="hcm">TP. Hồ Chí Minh</option>
                                    <option value="danang">Đà Nẵng</option>
                                    <option value="other">Khác</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-building"></i> Quận/Huyện *</label>
                                <select id="district" required>
                                    <option value="">Chọn Quận/Huyện</option>
                                    <option value="district1">Quận 1</option>
                                    <option value="district2">Quận 2</option>
                                    <option value="other">Khác</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-sticky-note"></i> Ghi chú đơn hàng</label>
                            <textarea id="note" rows="2" placeholder="Ghi chú thêm về đơn hàng (tùy chọn)"></textarea>
                        </div>
                        
                        <h3>Phương thức thanh toán</h3>
                        <div class="payment-methods">
                            <label class="payment-option">
                                <input type="radio" name="payment" value="cod" checked>
                                <div class="payment-card">
                                    <i class="fas fa-money-bill-wave"></i>
                                    <span>Thanh toán khi nhận hàng (COD)</span>
                                </div>
                            </label>
                            
                            <label class="payment-option">
                                <input type="radio" name="payment" value="bank">
                                <div class="payment-card">
                                    <i class="fas fa-university"></i>
                                    <span>Chuyển khoản ngân hàng</span>
                                </div>
                            </label>
                            
                            <label class="payment-option">
                                <input type="radio" name="payment" value="card">
                                <div class="payment-card">
                                    <i class="fas fa-credit-card"></i>
                                    <span>Thẻ tín dụng/ghi nợ</span>
                                </div>
                            </label>
                            
                            <label class="payment-option">
                                <input type="radio" name="payment" value="momo">
                                <div class="payment-card">
                                    <i class="fas fa-wallet"></i>
                                    <span>Ví MoMo</span>
                                </div>
                            </label>
                        </div>
                    </form>
                </div>
                
                <!-- Right Side - Order Summary -->
                <div class="order-summary">
                    <h3>Đơn hàng của bạn</h3>
                    <div class="summary-items" id="checkoutItems">
                        <!-- Items will be loaded here -->
                    </div>
                    
                    <div class="summary-row">
                        <span>Tạm tính:</span>
                        <span id="subtotalPrice">0đ</span>
                    </div>
                    
                    <div class="summary-row">
                        <span>Phí vận chuyển:</span>
                        <span id="shippingFee">30,000đ</span>
                    </div>
                    
                    <div class="summary-row discount-row">
                        <span>Giảm giá:</span>
                        <span id="discount">-0đ</span>
                    </div>
                    
                    <div class="promo-code">
                        <input type="text" id="promoCode" placeholder="Mã giảm giá">
                        <button type="button" id="applyPromo">Áp dụng</button>
                    </div>
                    
                    <div class="summary-total">
                        <span>Tổng cộng:</span>
                        <span id="finalTotal">0đ</span>
                    </div>
                    
                    <button type="submit" form="checkoutForm" class="btn-place-order">
                        <i class="fas fa-check-circle"></i> Đặt Hàng
                    </button>
                    
                    <div class="checkout-security">
                        <i class="fas fa-lock"></i>
                        <span>Thanh toán bảo mật 100%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content success-content">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Đặt hàng thành công!</h2>
            <p>Cảm ơn bạn đã mua hàng tại Fashion Store</p>
            <p class="order-id">Mã đơn hàng: <strong>#FS<span id="orderNumber"></span></strong></p>
            <p>Chúng tôi sẽ liên hệ với bạn trong thời gian sớm nhất</p>
            <button class="btn-primary" id="continueShoppingBtn">Tiếp tục mua sắm</button>
        </div>
    </div>

    <script>
        // Show user name and handle logout
        (function(){
            try{
                const user = JSON.parse(localStorage.getItem('sgb_logged_in')||'null');
                if(user){
                    const userBtn = document.getElementById('userNameBtn');
                    const nameSpan = document.getElementById('userName');
                    const logout = document.getElementById('logoutBtn');
                    if(userBtn && nameSpan){
                        userBtn.style.display='inline-flex';
                        const fullName = (user.fullName || user.name || 'Khách');
                        nameSpan.textContent = fullName;
                        nameSpan.setAttribute('title', fullName);
                        userBtn.setAttribute('title', fullName);
                    }
                    if(logout){
                        logout.style.display='inline-flex';
                        if(!logout.textContent || logout.textContent.trim().length === 0){ logout.textContent = 'Đăng xuất'; }
                        logout.setAttribute('title','Đăng xuất');
                        logout.addEventListener('click', ()=>{ localStorage.removeItem('sgb_logged_in'); window.location.href='auth.html'; });
                    }
                }
            }catch(e){ /* ignore */ }
        })();
    </script>
    <script src="Untitled-1.js?v=2"></script>
</body>
</html>
